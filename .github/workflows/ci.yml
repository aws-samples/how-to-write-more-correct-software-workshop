name: ci

on: ["pull_request"]

jobs:

  steps:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - run: make steps_are_complete

    - name: Install txm for running test
      run: npm install txm
    - run: make txm_steps
  
  container:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v2

    - name: Build and run dev container task
      uses: devcontainers/ci@v0.2
      with:
        runCmd: make verify_complete